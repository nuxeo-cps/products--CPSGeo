<metal:block use-macro="here/main_template/macros/master">
  <metal:block fill-slot="doctype"><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"></metal:block>
  <metal:block fill-slot="javascript_head_slot">
    <script type="text/javascript" src="cpsgeo.js" 
	    tal:attributes="src string:${here/absolute_url}/cps_geo_common.js"></script>
    <script type="text/javascript"
	    tal:attributes="src string:mapbuilder/lib/Mapbuilder.js" />
  </metal:block>
  <metal:block fill-slot="header">
    <h1 i18n:translate="header_geolocation_browser">
	Browse maps
    </h1>
  </metal:block>
  <metal:block fill-slot="main">
    <metal:block use-macro="here/cpsgeo_selector/macros/map_selector" />
    <table>
      <tr>
	<td valign="top" style="padding:10px">
	  <metal:block use-macro="here/cpsgeo_maplocator/macros/maplocator" />
	</td>
	<td valign="top"> 
	  <table width="100%">
	    <tr>
	      <td align="center" valign="top"> <table>
		<tr>
		  <td colspan="3"> <div id="mainMapPane"/>
		  <div id="loading">
		    <p i18n:translate="label_cpsgeo_loading_program">
		      Loading Program
		      <br/>
		    <img tal:attributes="src string:mapbuilder/lib/skin/default/images/Loading.gif"/>
		    </p>
		  </div>
		  </td>
		</tr>
		<tr>
		  <td align="left"> <div id="mainButtonBar"/></td>
		  <td align="center" id="mapScaleText" />&nbsp;
		  <td align="right" id="cursorTrack" />&nbsp;
		</tr>
	      </table>
	      </td>
	    </tr>
	  </table>
	</td>
      </tr>
    </table>
  </metal:block>
</metal:block>
